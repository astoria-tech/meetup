---
import '../style.css'
import copy from '../copy'
import {getCssUrl} from '../components/Link.astro'

type Props = {
  title?: string
  bodyClass?: string[]
  useWavyBackgroundLight?: boolean
  useWavyBackgroundDark?: boolean
}

const {title, useWavyBackgroundLight, useWavyBackgroundDark, bodyClass = []} = Astro.props
const applyWavyBackground = useWavyBackgroundLight
  ? ['wavy-background-light']
  : useWavyBackgroundDark
    ? ['wavy-background-dark']
    : []
---

<!-- not DRY but works -->
<style define:vars={{background: getCssUrl('/css/wavy-background.svg')}}>
  .wavy-background-light {
    background-color: #846e8b;
    background-image: var(--background);
    background-attachment: fixed;
  }
  .wavy-background-dark {
    background-color: #2d272e;
    background-image: var(--background);
    background-attachment: fixed;
  }
</style>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={copy.siteDescription} />
    <title>{title ? `${title} | ${copy.defaultPageTitle}` : copy.defaultPageTitle}</title>
  </head>

  <body class:list={[bodyClass, ...applyWavyBackground]}>
    <slot />
  </body>
</html>
